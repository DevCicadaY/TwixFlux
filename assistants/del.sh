#!/bin/bash

# –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –æ–¥–Ω—É –ø–∞–ø–∫—É –Ω–∞–∑–∞–¥
cd ..

# –í—ã–≤–æ–¥–∏–º —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞
echo -e "üó∫Ô∏è –¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ \nüìÇ $(pwd)"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —ç—Ç–æ 'TwixFlux'
if [ "$(basename $(pwd))" == "TwixFlux" ]; then
    # –ï—Å–ª–∏ –º—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤ –ø–∞–ø–∫–µ 'TwixFlux', –≤—ã–≤–æ–¥–∏–º —É—Å–ø–µ—à–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    echo "‚úÖ –ú—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤ –ø–∞–ø–∫–µ 'TwixFlux'."
else
    # –ï—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ 'TwixFlux', –≤—ã–≤–æ–¥–∏–º –æ—à–∏–±–∫—É –∏ –∑–∞–≤–µ—Ä—à–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞
    echo "‚ùå –ú—ã –Ω–µ –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤ –ø–∞–ø–∫–µ 'TwixFlux'."
    exit  # –ó–∞–≤–µ—Ä—à–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞, –µ—Å–ª–∏ –º—ã –Ω–µ –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤ –Ω—É–∂–Ω–æ–π –ø–∞–ø–∫–µ
fi

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫
remove_files_and_folders() {

    # –£–¥–∞–ª—è–µ–º —Ñ–∞–π–ª TwixFlux.spec, –µ—Å–ª–∏ –æ–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    if [ -f "TwixFlux.spec" ]; then
        echo "‚ùå –£–¥–∞–ª—è–µ–º —Ñ–∞–π–ª 'TwixFlux.spec'..."
        rm -f TwixFlux.spec  # –£–¥–∞–ª—è–µ–º —Ñ–∞–π–ª
        echo "‚úÖ –§–∞–π–ª 'TwixFlux.spec' —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!"  # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —É–¥–∞–ª–µ–Ω–∏–∏
    else
        echo "üö® –§–∞–π–ª 'TwixFlux.spec' –Ω–µ –Ω–∞–π–¥–µ–Ω."  # –°–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    fi

    # –£–¥–∞–ª—è–µ–º –ø–∞–ø–∫—É myenv, –µ—Å–ª–∏ –æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    if [ -d "myenv" ]; then
        echo "‚ùå –£–¥–∞–ª—è–µ–º –ø–∞–ø–∫—É 'myenv'..."
        rm -rf myenv  # –£–¥–∞–ª—è–µ–º –ø–∞–ø–∫—É –∏ –≤—Å–µ –µ—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
        echo "‚úÖ –ü–∞–ø–∫–∞ 'myenv' —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞!"  # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —É–¥–∞–ª–µ–Ω–∏–∏
    else
        echo "üö® –ü–∞–ø–∫–∞ 'myenv' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞."  # –°–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –ø–∞–ø–∫–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    fi

    # –£–¥–∞–ª—è–µ–º –ø–∞–ø–∫—É dist, –µ—Å–ª–∏ –æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    if [ -d "dist" ]; then
        echo "‚ùå –£–¥–∞–ª—è–µ–º –ø–∞–ø–∫—É 'dist'..."
        rm -rf dist  # –£–¥–∞–ª—è–µ–º –ø–∞–ø–∫—É –∏ –µ—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
        echo "‚úÖ –ü–∞–ø–∫–∞ 'dist' —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞!"  # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —É–¥–∞–ª–µ–Ω–∏–∏
    else
        echo "üö® –ü–∞–ø–∫–∞ 'dist' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞."  # –°–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –ø–∞–ø–∫–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    fi

    # –£–¥–∞–ª—è–µ–º –ø–∞–ø–∫—É build, –µ—Å–ª–∏ –æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    if [ -d "build" ]; then
        echo "‚ùå –£–¥–∞–ª—è–µ–º –ø–∞–ø–∫—É 'build'..."
        rm -rf build  # –£–¥–∞–ª—è–µ–º –ø–∞–ø–∫—É –∏ –µ—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
        echo "‚úÖ –ü–∞–ø–∫–∞ 'build' —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞!"  # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —É–¥–∞–ª–µ–Ω–∏–∏
    else
        echo "üö® –ü–∞–ø–∫–∞ 'build' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞."  # –°–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –ø–∞–ø–∫–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    fi
    
    # –£–¥–∞–ª—è–µ–º –ø–∞–ø–∫—É logs, –µ—Å–ª–∏ –æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    if [ -d "logs" ]; then
        echo "‚ùå –£–¥–∞–ª—è–µ–º –ø–∞–ø–∫—É 'logs'..."
        rm -rf logs  # –£–¥–∞–ª—è–µ–º –ø–∞–ø–∫—É –∏ –µ—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
        echo "‚úÖ –ü–∞–ø–∫–∞ 'logs' —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞!"  # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —É–¥–∞–ª–µ–Ω–∏–∏
    else
        echo "üö® –ü–∞–ø–∫–∞ 'logs' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞."  # –°–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –ø–∞–ø–∫–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    fi

    # –ò—â–µ–º –∏ —É–¥–∞–ª—è–µ–º –≤—Å–µ –ø–∞–ø–∫–∏ __pycache__ –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –µ—ë –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–∞—Ö
    if find . -type d -name '__pycache__' | grep -q .; then
        echo "‚ùå –£–¥–∞–ª—è–µ–º –ø–∞–ø–∫–∏ '__pycache__'..."
        find . -type d -name '__pycache__' -exec rm -rf {} +  # –£–¥–∞–ª—è–µ–º –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏ __pycache__
        echo "‚úÖ –í—Å–µ –ø–∞–ø–∫–∏ '__pycache__' —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω—ã!"
    else
        echo "üö® –ü–∞–ø–∫–∏ '__pycache__' –Ω–µ –Ω–∞–π–¥–µ–Ω—ã."  # –°–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –ø–∞–ø–∫–∏ __pycache__ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
    fi

    local service_name="TwixFlux"  # –ò–º—è —Å–µ—Ä–≤–∏—Å–∞ –∑–∞–¥–∞—ë–º –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø–∞—Ä–æ–ª—è –≤ –∫–ª—é—á–Ω–∏—Ü–µ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
    if security find-generic-password -s "$service_name" &>/dev/null; then
        echo "‚úÖ –ü–∞—Ä–æ–ª—å –¥–ª—è $service_name –Ω–∞–π–¥–µ–Ω, —É–¥–∞–ª—è—é..."
        security delete-generic-password -s "$service_name" &>/dev/null  # –£–¥–∞–ª—è–µ–º –ø–∞—Ä–æ–ª—å –∏–∑ –∫–ª—é—á–Ω–∏—Ü—ã
        echo "‚úÖ –ü–∞—Ä–æ–ª—å –¥–ª—è $service_name —É–¥–∞–ª—ë–Ω."
    else
        echo "üö® –ü–∞—Ä–æ–ª—å –¥–ª—è $service_name –Ω–µ –Ω–∞–π–¥–µ–Ω."  # –°–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –ø–∞—Ä–æ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω
    fi
}

# –ó–∞–ø—É—Å–∫ —Ñ—É–Ω–∫—Ü–∏–∏ —É–¥–∞–ª–µ–Ω–∏—è
remove_files_and_folders